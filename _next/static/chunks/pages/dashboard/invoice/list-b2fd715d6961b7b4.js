(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7661],{73303:function(e,t,n){var r=n(67206),i=n(67762);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):0}},95595:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/invoice/list",function(){return n(7060)}])},1088:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67294);function i(e){var t=(0,r.useState)(e||""),n=t[0],i=t[1];return{currentTab:n,onChangeTab:function(e,t){i(t)},setCurrentTab:i}}},7060:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(85893),i=n(73303),o=n.n(i),l=n(67294),a=n(41664),c=n.n(a),s=n(11163),u=n(2734),d=n(53156),f=n(11057),x=n(66242),h=n(26447),p=n(67720),v=n(37023),j=n(40044),g=n(72882),m=n(34386),Z=n(93946),b=n(7906),w=n(295),S=n(87357),D=n(36125),y=n(50480),C=n(72852),P=n(76939),R=n(1088),k=n(40571),T=n(91899),N=n(61330),E=n(58866),F=n(82771),_=n(41451),I=n(34444),O=n(75447),W=n(38187),B=n(25825),L=n(45697),z=n.n(L),M=n(98456),A=n(15861),V=n(87850);function H(e){var t=e.title,n=e.total,i=e.icon,o=e.color,l=e.percent,a=e.price;return(0,r.jsxs)(h.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,r.jsxs)(h.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,r.jsx)(I.Z,{icon:i,sx:{color:o,width:24,height:24,position:"absolute"}}),(0,r.jsx)(M.Z,{variant:"determinate",value:l,size:56,thickness:4,sx:{color:o,opacity:.48}}),(0,r.jsx)(M.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,r.jsxs)(h.Z,{spacing:.5,sx:{ml:2},children:[(0,r.jsx)(A.Z,{variant:"h6",children:t}),(0,r.jsxs)(A.Z,{variant:"subtitle2",children:[(0,V.v1)(n)," ",(0,r.jsx)(S.Z,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"invoices"})]}),(0,r.jsx)(A.Z,{variant:"subtitle2",sx:{color:o},children:(0,V.e_)(a)})]})]})}H.propTypes={title:z().string,color:z().string,icon:z().string,percent:z().number,price:z().number,total:z().number};var Q=n(68509),U=n(53252),X=n(69368),q=n(23795),K=n(18972),$=n(55267),G=n(2410),J=n(2813);function Y(e){var t=e.row,n=e.selected,i=e.onSelectRow,o=e.onViewRow,a=e.onEditRow,c=e.onDeleteRow,s=(0,u.Z)(),d=t.sent,f=t.invoiceNumber,x=t.createDate,p=t.dueDate,v=t.status,j=t.invoiceTo,g=t.totalPrice,m=(0,l.useState)(null),Z=m[0],b=m[1],w=function(){b(null)};return(0,r.jsxs)(Q.Z,{hover:!0,selected:n,children:[(0,r.jsx)(U.Z,{padding:"checkbox",children:(0,r.jsx)(X.Z,{checked:n,onClick:i})}),(0,r.jsxs)(U.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(J.Z,{alt:j.name,color:(0,G.Z)(j.name).color,sx:{mr:2},children:(0,G.Z)(j.name).name}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(A.Z,{variant:"subtitle2",noWrap:!0,children:j.name}),(0,r.jsx)(q.Z,{noWrap:!0,variant:"body2",onClick:o,sx:{color:"text.disabled",cursor:"pointer"},children:"INV-".concat(f)})]})]}),(0,r.jsx)(U.Z,{align:"left",children:(0,$.Mu)(x)}),(0,r.jsx)(U.Z,{align:"left",children:(0,$.Mu)(p)}),(0,r.jsx)(U.Z,{align:"center",children:(0,V.e_)(g)}),(0,r.jsx)(U.Z,{align:"center",sx:{textTransform:"capitalize"},children:d}),(0,r.jsx)(U.Z,{align:"left",children:(0,r.jsx)(_.Z,{variant:"light"===s.palette.mode?"ghost":"filled",color:("paid"===v?"success":"unpaid"===v&&"warning")||"overdue"===v&&"error"||"default",sx:{textTransform:"capitalize"},children:v})}),(0,r.jsx)(U.Z,{align:"right",children:(0,r.jsx)(B.V7,{open:Z,onOpen:function(e){b(e.currentTarget)},onClose:w,actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(K.Z,{onClick:function(){c(),w()},sx:{color:"error.main"},children:[(0,r.jsx)(I.Z,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,r.jsxs)(K.Z,{onClick:function(){o(),w()},children:[(0,r.jsx)(I.Z,{icon:"eva:eye-fill"}),"View"]}),(0,r.jsxs)(K.Z,{onClick:function(){a(),w()},children:[(0,r.jsx)(I.Z,{icon:"eva:edit-fill"}),"Edit"]})]})})})]})}Y.propTypes={row:z().object.isRequired,selected:z().bool,onSelectRow:z().func,onViewRow:z().func,onEditRow:z().func,onDeleteRow:z().func};var ee=n(14251),te=n(52875),ne=n(50135),re=n(87109),ie=n(52377);function oe(e){var t=e.optionsService,n=e.filterStartDate,i=e.filterEndDate,o=e.filterName,l=e.filterService,a=e.onFilterName,c=e.onFilterService,s=e.onFilterStartDate,u=e.onFilterEndDate;return(0,r.jsxs)(h.Z,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[(0,r.jsx)(ne.Z,{fullWidth:!0,select:!0,label:"Service type",value:l,onChange:c,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:160},textTransform:"capitalize"},children:t.map((function(e){return(0,r.jsx)(K.Z,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)}))}),(0,r.jsx)(ie.M,{label:"Start date",value:n,onChange:s,renderInput:function(e){return(0,r.jsx)(ne.Z,(0,te.Z)((0,ee.Z)({},e),{fullWidth:!0,sx:{maxWidth:{md:160}}}))}}),(0,r.jsx)(ie.M,{label:"End date",value:i,onChange:u,renderInput:function(e){return(0,r.jsx)(ne.Z,(0,te.Z)((0,ee.Z)({},e),{fullWidth:!0,sx:{maxWidth:{md:160}}}))}}),(0,r.jsx)(ne.Z,{fullWidth:!0,value:o,onChange:function(e){return a(e.target.value)},placeholder:"Search client or invoice number...",InputProps:{startAdornment:(0,r.jsx)(re.Z,{position:"start",children:(0,r.jsx)(I.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})]})}oe.propTypes={filterName:z().string,filterService:z().string,filterEndDate:z().instanceOf(Date),filterStartDate:z().instanceOf(Date),onFilterName:z().func,onFilterEndDate:z().func,onFilterService:z().func,onFilterStartDate:z().func,optionsService:z().arrayOf(z().string)};var le=["all","full stack development","backend development","ui design","ui/ux design","front end development"],ae=[{id:"invoiceNumber",label:"Client",align:"left"},{id:"createDate",label:"Create",align:"left"},{id:"dueDate",label:"Due",align:"left"},{id:"price",label:"Amount",align:"center",width:140},{id:"sent",label:"Sent",align:"center",width:140},{id:"status",label:"Status",align:"left"},{id:""}];function ce(){var e=(0,u.Z)(),t=(0,k.Z)().themeStretch,n=(0,s.useRouter)().push,i=(0,T.ZP)({defaultOrderBy:"createDate"}),a=i.dense,E=i.page,L=i.order,z=i.orderBy,M=i.rowsPerPage,A=i.setPage,V=i.selected,Q=i.setSelected,U=i.onSelectRow,X=i.onSelectAllRows,q=i.onSort,K=i.onChangeDense,$=i.onChangePage,G=i.onChangeRowsPerPage,J=(0,l.useState)(N.Ot),ee=J[0],te=J[1],ne=(0,l.useState)(""),re=ne[0],ie=ne[1],ce=(0,l.useState)("all"),se=ce[0],ue=ce[1],de=(0,l.useState)(null),fe=de[0],xe=de[1],he=(0,l.useState)(null),pe=he[0],ve=he[1],je=(0,R.Z)("all"),ge=je.currentTab,me=je.onChangeTab,Ze=function(e){var t=e.tableData,n=e.comparator,r=e.filterName,i=e.filterStatus,o=e.filterService,l=e.filterStartDate,a=e.filterEndDate,c=t.map((function(e,t){return[e,t]}));c.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=c.map((function(e){return e[0]})),r&&(t=t.filter((function(e){return-1!==e.invoiceNumber.toLowerCase().indexOf(r.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(r.toLowerCase())})));"all"!==i&&(t=t.filter((function(e){return e.status===i})));"all"!==o&&(t=t.filter((function(e){return e.items.some((function(e){return e.service===o}))})));l&&a&&(t=t.filter((function(e){return e.createDate.getTime()>=l.getTime()&&e.createDate.getTime()<=a.getTime()})));return t}({tableData:ee,comparator:(0,T.sQ)(L,z),filterName:re,filterService:se,filterStatus:ge,filterStartDate:fe,filterEndDate:pe}),be=a?56:76,we=!Ze.length&&!!re||!Ze.length&&!!ge||!Ze.length&&!!se||!Ze.length&&!!pe||!Ze.length&&!!fe,Se=function(e){return ee.filter((function(t){return t.status===e})).length},De=function(e){return o()(ee.filter((function(t){return t.status===e})),"totalPrice")},ye=function(e){return Se(e)/ee.length*100},Ce=[{value:"all",label:"All",color:"info",count:ee.length},{value:"paid",label:"Paid",color:"success",count:Se("paid")},{value:"unpaid",label:"Unpaid",color:"warning",count:Se("unpaid")},{value:"overdue",label:"Overdue",color:"error",count:Se("overdue")},{value:"draft",label:"Draft",color:"default",count:Se("draft")}];return(0,r.jsx)(F.Z,{title:"Invoice: List",children:(0,r.jsxs)(d.Z,{maxWidth:!t&&"lg",children:[(0,r.jsx)(W.Z,{heading:"Invoice List",links:[{name:"Dashboard",href:P.vB.root},{name:"Invoices",href:P.vB.invoice.root},{name:"List"}],action:(0,r.jsx)(c(),{href:P.vB.invoice.new,passHref:!0,children:(0,r.jsx)(f.Z,{variant:"contained",startIcon:(0,r.jsx)(I.Z,{icon:"eva:plus-fill"}),children:"New Invoice"})})}),(0,r.jsx)(x.Z,{sx:{mb:5},children:(0,r.jsx)(O.Z,{children:(0,r.jsxs)(h.Z,{direction:"row",divider:(0,r.jsx)(p.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,r.jsx)(H,{title:"Total",total:ee.length,percent:100,price:o()(ee,"totalPrice"),icon:"ic:round-receipt",color:e.palette.info.main}),(0,r.jsx)(H,{title:"Paid",total:Se("paid"),percent:ye("paid"),price:De("paid"),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,r.jsx)(H,{title:"Unpaid",total:Se("unpaid"),percent:ye("unpaid"),price:De("unpaid"),icon:"eva:clock-fill",color:e.palette.warning.main}),(0,r.jsx)(H,{title:"Overdue",total:Se("overdue"),percent:ye("overdue"),price:De("overdue"),icon:"eva:bell-fill",color:e.palette.error.main}),(0,r.jsx)(H,{title:"Draft",total:Se("draft"),percent:ye("draft"),price:De("draft"),icon:"eva:file-fill",color:e.palette.text.secondary})]})})}),(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(v.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:ge,onChange:me,sx:{px:2,bgcolor:"background.neutral"},children:Ce.map((function(e){return(0,r.jsx)(j.Z,{disableRipple:!0,value:e.value,icon:(0,r.jsxs)(_.Z,{color:e.color,children:[" ",e.count," "]}),label:e.label},e.value)}))}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(oe,{filterName:re,filterService:se,filterStartDate:fe,filterEndDate:pe,onFilterName:function(e){ie(e),A(0)},onFilterService:function(e){ue(e.target.value)},onFilterStartDate:function(e){xe(e)},onFilterEndDate:function(e){ve(e)},optionsService:le}),(0,r.jsx)(O.Z,{children:(0,r.jsxs)(g.Z,{sx:{minWidth:800,position:"relative"},children:[V.length>0&&(0,r.jsx)(B.Nl,{dense:a,numSelected:V.length,rowCount:ee.length,onSelectAllRows:function(e){return X(e,ee.map((function(e){return e.id})))},actions:(0,r.jsxs)(h.Z,{spacing:1,direction:"row",children:[(0,r.jsx)(m.Z,{title:"Sent",children:(0,r.jsx)(Z.Z,{color:"primary",children:(0,r.jsx)(I.Z,{icon:"ic:round-send"})})}),(0,r.jsx)(m.Z,{title:"Download",children:(0,r.jsx)(Z.Z,{color:"primary",children:(0,r.jsx)(I.Z,{icon:"eva:download-outline"})})}),(0,r.jsx)(m.Z,{title:"Print",children:(0,r.jsx)(Z.Z,{color:"primary",children:(0,r.jsx)(I.Z,{icon:"eva:printer-fill"})})}),(0,r.jsx)(m.Z,{title:"Delete",children:(0,r.jsx)(Z.Z,{color:"primary",onClick:function(){return function(e){var t=ee.filter((function(t){return!e.includes(t.id)}));Q([]),te(t)}(V)},children:(0,r.jsx)(I.Z,{icon:"eva:trash-2-outline"})})})]})}),(0,r.jsxs)(b.Z,{size:a?"small":"medium",children:[(0,r.jsx)(B.K,{order:L,orderBy:z,headLabel:ae,rowCount:ee.length,numSelected:V.length,onSort:q,onSelectAllRows:function(e){return X(e,ee.map((function(e){return e.id})))}}),(0,r.jsxs)(w.Z,{children:[Ze.slice(E*M,E*M+M).map((function(e){return(0,r.jsx)(Y,{row:e,selected:V.includes(e.id),onSelectRow:function(){return U(e.id)},onViewRow:function(){return t=e.id,void n(P.vB.invoice.view(t));var t},onEditRow:function(){return t=e.id,void n(P.vB.invoice.edit(t));var t},onDeleteRow:function(){return function(e){var t=ee.filter((function(t){return t.id!==e}));Q([]),te(t)}(e.id)}},e.id)})),(0,r.jsx)(B.$W,{height:be,emptyRows:(0,T.fQ)(E,M,ee.length)}),(0,r.jsx)(B.et,{isNotFound:we})]})]})]})}),(0,r.jsxs)(S.Z,{sx:{position:"relative"},children:[(0,r.jsx)(D.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:Ze.length,rowsPerPage:M,page:E,onPageChange:$,onRowsPerPageChange:G}),(0,r.jsx)(y.Z,{control:(0,r.jsx)(C.Z,{checked:a,onChange:K}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}ce.getLayout=function(e){return(0,r.jsx)(E.Z,{children:e})}}},function(e){e.O(0,[9448,2174,285,4411,1874,2377,65,3279,1866,8866,4100,9774,2888,179],(function(){return t=95595,e(e.s=t);var t}));var t=e.O();_N_E=t}]);