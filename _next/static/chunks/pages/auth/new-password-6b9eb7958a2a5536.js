(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7810],{75442:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/new-password",function(){return n(63689)}])},63689:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return A}});var o=n(85893),t=n(90948),i=n(53156),s=n(15861),a=n(87357),c=n(23795),d=n(58866),u=n(82771),l=n(34727),m=n(14251),f=n(52875),h=n(70655),x=n(74231),p=n(73400),v=n(67294),w=n(11163),g=n(87536),Z=n(47533),j=n(26447),y=n(57709),q=n(56815),b=n(87109),_=n(93946),C=n(31812),P=n(76939),E=n(34444),S=n(98383);function N(){var e=(0,w.useRouter)().push,r=(0,p.Ds)().enqueueSnackbar,n=(0,v.useState)(!1),t=n[0],i=n[1],s=sessionStorage.getItem("email-recovery"),a=x.Ry().shape({code1:x.Z_().required("Code is required"),code2:x.Z_().required("Code is required"),code3:x.Z_().required("Code is required"),code4:x.Z_().required("Code is required"),code5:x.Z_().required("Code is required"),code6:x.Z_().required("Code is required"),email:x.Z_().email("Email must be a valid email address").required("Email is required"),password:x.Z_().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:x.Z_().required("Confirm password is required").oneOf([x.iH("password"),null],"Passwords must match")}),c={code1:"",code2:"",code3:"",code4:"",code5:"",code6:"",email:s||"",password:"",confirmPassword:""},d=(0,g.cI)({mode:"all",resolver:(0,Z.X)(a),defaultValues:c}),u=d.control,N=d.setValue,k=d.handleSubmit,D=d.formState,A=D.isSubmitting,I=D.errors;(0,v.useEffect)((function(){var e=document.querySelector("input.field-code");return null===e||void 0===e||e.addEventListener("paste",L),function(){null===e||void 0===e||e.removeEventListener("paste",L)}}),[]);var L=function(e){var r=e.clipboardData.getData("text");r=r.split(""),[].forEach.call(document.querySelectorAll(".field-code"),(function(e,n){e.value=r[n];var o="code".concat(n+1);N(o,r[n])})),e.preventDefault()},R=function(){var n=(0,l.Z)((function(n){var o;return(0,h.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,new Promise((function(e){return setTimeout(e,500)}))];case 1:return t.sent(),console.log("data:",{email:n.email,code:"".concat(n.code1).concat(n.code2).concat(n.code3).concat(n.code4).concat(n.code5).concat(n.code6),password:n.password}),sessionStorage.removeItem("email-recovery"),r("Change password success!"),e(P.vB.root),[3,3];case 2:return o=t.sent(),console.error(o),[3,3];case 3:return[2]}}))}));return function(e){return n.apply(this,arguments)}}();return(0,o.jsx)(S.RV,{methods:d,onSubmit:k(R),children:(0,o.jsxs)(j.Z,{spacing:3,children:[(0,o.jsx)(S.au,{name:"email",label:"Email",disabled:!!s}),(0,o.jsx)(j.Z,{direction:"row",spacing:2,justifyContent:"center",children:["code1","code2","code3","code4","code5","code6"].map((function(e,r){return(0,o.jsx)(g.Qr,{name:"code".concat(r+1),control:u,render:function(e){var n=e.field,t=e.fieldState.error;return(0,o.jsx)(y.Z,(0,f.Z)((0,m.Z)({},n),{error:!!t,autoFocus:0===r,placeholder:"-",onChange:function(e){return function(e,r){var n=e.target,o=n.maxLength,t=n.value,i=n.name.replace("code",""),s=Number(i);if(t.length>=o&&s<6){var a=document.querySelector("input[name=code".concat(s+1,"]"));null!==a&&a.focus()}r(e)}(e,n.onChange)},inputProps:{className:"field-code",maxLength:1,sx:{p:0,textAlign:"center",width:{xs:36,sm:56},height:{xs:36,sm:56}}}}))}},e)}))}),(!!I.code1||!!I.code2||!!I.code3||!!I.code4||!!I.code5||!!I.code6)&&(0,o.jsx)(q.Z,{error:!0,sx:{px:2},children:"Code is required"}),(0,o.jsx)(S.au,{name:"password",label:"Password",type:t?"text":"password",InputProps:{endAdornment:(0,o.jsx)(b.Z,{position:"end",children:(0,o.jsx)(_.Z,{onClick:function(){return i(!t)},edge:"end",children:(0,o.jsx)(E.Z,{icon:t?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,o.jsx)(S.au,{name:"confirmPassword",label:"Confirm New Password",type:t?"text":"password",InputProps:{endAdornment:(0,o.jsx)(b.Z,{position:"end",children:(0,o.jsx)(_.Z,{onClick:function(){return i(!t)},edge:"end",children:(0,o.jsx)(E.Z,{icon:t?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,o.jsx)(C.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:A,sx:{mt:3},children:"Change password"})]})})}var k=n(22709),D=(0,t.ZP)("div")((function(e){return{maxWidth:480,margin:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",padding:e.theme.spacing(12,0)}}));function A(){return(0,o.jsx)(u.Z,{title:"New Password",children:(0,o.jsx)(i.Z,{children:(0,o.jsxs)(D,{sx:{textAlign:"center"},children:[(0,o.jsx)(k.Jg,{sx:{mb:5,mx:"auto",height:120}}),(0,o.jsx)(s.Z,{variant:"h3",gutterBottom:!0,children:"Request sent successfully!"}),(0,o.jsxs)(s.Z,{sx:{color:"text.secondary"},children:["We've sent a 6-digit confirmation email to your email.",(0,o.jsx)("br",{}),"Please enter the code in below box to verify your email."]}),(0,o.jsx)(a.Z,{sx:{mt:5,mb:3},children:(0,o.jsx)(N,{})}),(0,o.jsxs)(s.Z,{variant:"body2",children:["Don\u2019t have a code? \xa0",(0,o.jsx)(c.Z,{variant:"subtitle2",onClick:function(){},children:"Resend code"})]})]})})})}A.getLayout=function(e){return(0,o.jsx)(d.Z,{variant:"logoOnly",children:e})}}},function(e){e.O(0,[9448,2174,3279,1866,8866,9774,2888,179],(function(){return r=75442,e(e.s=r);var r}));var r=e.O();_N_E=r}]);