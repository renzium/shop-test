(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{60181:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/e-commerce/shop",function(){return r(73481)}])},73481:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return y}});var t=r(85893),o=r(67294),c=r(75472),i=r.n(c),s=r(87536),u=r(53156),a=r(26447),l=r(15861),f=r(79718),g=r(1308),d=r(76939),h=r(40571),p=r(58866),m=r(82771),x=r(38187),v=r(98383),R=r(55704),j=r(73183);function y(){var e=(0,h.Z)().themeStretch,n=(0,f.I0)(),r=(0,o.useState)(!1),c=r[0],p=r[1],y=(0,f.v9)((function(e){return e.product})),w=y.products,_=y.sortBy,S=y.filters,Z=function(e,n,r){"featured"===n&&(e=i()(e,["sold"],["desc"]));"newest"===n&&(e=i()(e,["createdAt"],["desc"]));"priceDesc"===n&&(e=i()(e,["price"],["desc"]));"priceAsc"===n&&(e=i()(e,["price"],["asc"]));r.gender.length>0&&(e=e.filter((function(e){return r.gender.includes(e.gender)})));"All"!==r.category&&(e=e.filter((function(e){return e.category===r.category})));r.colors.length>0&&(e=e.filter((function(e){return e.colors.some((function(e){return r.colors.includes(e)}))})));var t=r.priceRange[0],o=r.priceRange[1];0===t&&200===o||(e=e.filter((function(e){return e.price>=t&&e.price<=o})));r.rating&&(e=e.filter((function(e){var n=function(e){return"up4Star"===e?4:"up3Star"===e?3:"up2Star"===e?2:1};return e.totalRating>n(r.rating)})));return e}(w,_,S),E={gender:S.gender,category:S.category,colors:S.colors,priceRange:S.priceRange,rating:S.rating},b=(0,s.cI)({defaultValues:E}),A=b.reset,C=b.watch,k=b.setValue,N=C(),O=N.priceRange[0],B=N.priceRange[1],P=0===O&&200===B&&!N.rating&&0===N.gender.length&&0===N.colors.length&&"All"===N.category;(0,o.useEffect)((function(){n((0,g.Xp)())}),[n]),(0,o.useEffect)((function(){n((0,g.ft)(N))}),[n,N]);var D=function(){p(!1)},I=function(){c&&D(),A({gender:[],category:"All",colors:[],priceRange:[0,200],rating:""})};return(0,t.jsx)(m.Z,{title:"Ecommerce: Shop",children:(0,t.jsxs)(u.Z,{maxWidth:!e&&"lg",children:[(0,t.jsx)(x.Z,{heading:"Shop",links:[{name:"Dashboard",href:d.vB.root},{name:"E-Commerce",href:d.vB.eCommerce.root},{name:"Shop"}]}),(0,t.jsxs)(a.Z,{spacing:2,direction:{xs:"column",sm:"row"},alignItems:{sm:"center"},justifyContent:"space-between",sx:{mb:2},children:[(0,t.jsx)(R.W,{}),(0,t.jsxs)(a.Z,{direction:"row",spacing:1,flexShrink:0,sx:{my:1},children:[(0,t.jsx)(v.RV,{methods:b,children:(0,t.jsx)(R.n4,{isDefault:P,isOpen:c,onOpen:function(){p(!0)},onClose:D,onResetAll:I})}),(0,t.jsx)(R.a5,{})]})]}),(0,t.jsx)(a.Z,{sx:{mb:3},children:!P&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Z,{variant:"body2",gutterBottom:!0,children:[(0,t.jsx)("strong",{children:Z.length}),"\xa0Products found"]}),(0,t.jsx)(R.vc,{filters:S,isShowReset:!P&&!c,onRemoveGender:function(e){var n=S.gender.filter((function(n){return n!==e}));k("gender",n)},onRemoveCategory:function(){k("category","All")},onRemoveColor:function(e){var n=S.colors.filter((function(n){return n!==e}));k("colors",n)},onRemovePrice:function(){k("priceRange",[0,200])},onRemoveRating:function(){k("rating","")},onResetAll:I})]})}),(0,t.jsx)(R.vO,{products:Z,loading:!w.length&&P}),(0,t.jsx)(j.Z,{})]})})}y.getLayout=function(e){return(0,t.jsx)(p.Z,{children:e})}}},function(e){e.O(0,[9448,2174,8756,1440,3279,1866,8866,8216,1552,9774,2888,179],(function(){return n=60181,e(e.s=n);var n}));var n=e.O();_N_E=n}]);